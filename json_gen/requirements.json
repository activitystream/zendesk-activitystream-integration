{
    "targets": {
        "activitystream": {
            "title": "Notify Activity Stream",
            "type": "http_target",
            "active": false,
            "created_at": "2015-06-02T12:00:54.104Z",
            "target_url": "http://74.208.68.59/zendesk?api={{setting.token}}",
            "method": "post",
            "content_type": "application/json"
        },
        "an_email_target": {
            "title": "A sample email Target",
            "type": "email_target",
            "active": true,
            "email": "petar@activitystream.com",
            "subject": "Hello, from this target!"
        }
    },
    "triggers": {
        "notify_as_on_ticket_comments_change": {
            "title": "Notify Activity Stream on ticket comments Changed",
            "all": [
                {
                    "field": "update_type",
                    "operator": "is",
                    "value": "Change"
                },
                {
                    "field": "comment_is_public",
                    "operator": "is",
                    "value": "true"
                }
            ],
            "actions": [
                {
                    "field": "notification_target",
                    "value": [
                        "activitystream",
                        "<%= all('comments.changed') %>"
                    ]
                }
            ]
        },
        "notify_as_on_ticket_created": {
            "title": "Notify Activity Stream on ticket created",
            "all": [
                {
                    "field": "update_type",
                    "operator": "is",
                    "value": "Create"
                }
            ],
            "any": [],
            "actions": [
                {
                    "field": "notification_target",
                    "value": [
                        "activitystream",
                        "<%= all('ticket.created') %>"
                    ]
                }
            ]
        },
        "notify_as_on_assignee_changed": {
            "title": "Notify Activity Stream on assignee changed",
            "all": [
                {
                    "field": "assignee_id",
                    "operator": "changed",
                    "value": null
                }
            ],
            "any": [],
            "actions": [
                {
                    "field": "notification_target",
                    "value": [
                        "activitystream",
                        "<%= all('assignee.changed') %>"
                    ]
                }
            ]
        },
        "notify_as_on_ticket_promoted": {
            "title": "Notify Activity Stream on ticket promoted",
            "all": [
                {
                    "field": "priority",
                    "operator": "value",
                    "value": "normal"
                },
                {
                    "field": "priority",
                    "operator": "value_previous",
                    "value": "low"
                }
            ],
            "any": [],
            "actions": [
                {
                    "field": "notification_target",
                    "value": [
                        "activitystream",
                        "<%= all('ticket.promoted') %>"
                    ]
                }
            ]
        },
        "notify_as_on_ticket_reopened": {
            "title": "Notify Activity Stream on ticket reopened",
            "all": [
                {
                    "field": "status",
                    "operator": "less_than",
                    "value": "solved"
                }
            ],
            "any": [
                {
                    "field": "status",
                    "operator": "value_previous",
                    "value": "solved"
                },
                {
                    "field": "status",
                    "operator": "value_previous",
                    "value": "closed"
                }
            ],
            "actions": [
                {
                    "field": "notification_target",
                    "value": [
                        "activitystream",
                        "<%= all('ticket.reopened') %>"
                    ]
                }
            ]
        }
    }
}